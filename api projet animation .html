<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Citation Anime</title>
  <style>
  
  body {
  font-family: Arial, sans-serif;
  background-color: #f5f5f5;
  text-align: center;
  padding: 40px;
}

.container {
  max-width: 500px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

button {
  padding: 10px 20px;
  font-size: 1em;
  background-color: #1e90ff;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background-color: #0074d9;
}

#quote-result {
  margin-top: 20px;
  font-size: 1.1em;
}

#loader {
  margin-top: 15px;
  color: #555;
  font-style: italic;
}

.hidden {
  display: none;
}
  </style>
</head>
<body>

  <div class="container">
    <h1>ðŸŽ´ Citation Anime AlÃ©atoire</h1>
    <button id="get-quote">Obtenir une citation</button>
    <div id="loader" class="hidden">Chargement...</div>
    <div id="quote-result"></div>
  </div>

  <script>
  
  const button = document.getElementById("get-quote");
const resultDiv = document.getElementById("quote-result");
const loader = document.getElementById("loader");

// Fonction utilitaire pour pause
function attendre(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function getAnimeQuote() {
  try {
    resultDiv.innerHTML = "";
    loader.classList.remove("hidden");

    // Simulation dâ€™un petit dÃ©lai de chargement
    await attendre(1000);

    const response = await fetch("https://animechan.vercel.app/api/random");

    if (!response.ok) {
      throw new Error("Erreur API");
    }

    const data = await response.json();

    loader.classList.add("hidden");

    resultDiv.innerHTML = `
      <h3>${data.character} dans <em>${data.anime}</em></h3>
      <blockquote>"${data.quote}"</blockquote>
    `;

  } catch (err) {
    loader.classList.add("hidden");
    resultDiv.innerHTML = `<p style="color:red;">Erreur : ${err.message}</p>`;
  }
}

button.addEventListener("click", getAnimeQuote);
  </script>
</body>
</html>